
# there are three screens
windowManager:
    loginWindow:
    signupWindow:
    logDataWindow:
    displayWindow:
 
# GUI for the login window
<loginWindow>:
    email : email
    pwd : pwd
    MDFloatLayout:
        orientation: "vertical"
        size: root.width, root.height

        Label:
            text : "EMAIL: "
            size_hint : 0.2, 0.1
            pos_hint : {"x":0.4, "top":0.9}
        TextInput:
            id : email
            multiline :False
            size_hint : 0.3, 0.1
            pos_hint : {"x" : 0.35, "top" : 0.8}
        Label:
            text : "PASSWORD: "
            size_hint : 0.2, 0.1
            pos_hint : {"x" : 0.4, "top" : 0.7}
        TextInput:
            id : pwd
            multiline :False
            size_hint : 0.3, 0.1
            pos_hint : {"x" : 0.35, "top" : 0.6}
        Button:
            text : "Create an account"
            size_hint : 0.4, 0.1
            pos_hint : {"x" : 0.3, "top" : 0.4}
            on_release: 
                app.root.current = 'signup'
                root.manager.transition.direction = "left"
        Button:
            text : "LOGIN"
            size_hint : 0.3, 0.1
            pos_hint : {"x" : 0.35, "top" : 0.2}
            on_release: 
                root.validate()
                root.manager.transition.direction = "up"
  
# GUI for the signup window
<signupWindow>:
    name2 : name2
    email : email
    pwd : pwd
    MDFloatLayout:

        Label:
            text : "NAME: "
            size_hint : 0.2, 0.1
            pos_hint : {"x":0.4, "top":0.9}
        TextInput:
            id : name2
            multiline : False
            size_hint : 0.3, 0.1
            pos_hint : {"x" : 0.35, "top" : 0.8}
        Label:
            text : "EMAIL: "
            size_hint : 0.2, 0.1
            pos_hint : {"x" : 0.4, "top" : 0.7}
        TextInput:
            id : email
            multiline : False
            size_hint : 0.3, 0.1
            pos_hint : {"x" : 0.35, "top" : 0.6}
        Label:
            text : "PASSWORD: "
            size_hint : 0.2, 0.1
            pos_hint : {"x" : 0.4, "top" : 0.5}
        TextInput:
            id : pwd
            multiline : False
            size_hint : 0.3, 0.1
            pos_hint : {"x" : 0.35, "top" : 0.4}
        Button:
            text : "SUBMIT"
            size_hint : 0.3, 0.1
            pos_hint : {"x" : 0.35, "top" : 0.25}
            on_press :
                root.signupbtn()
                root.manager.transition.direction = "right"

        Button:
            text : "GO BACK"
            size_hint : 0.3, 0.1
            pos_hint : {"x" : 0.35, "top" : 0.18}
            on_press :
                root.back()
                root.manager.transition.direction = "right"
  
# GUI to show validation result
<logDataWindow>:
    #info : info
    MDNavigationLayout:

    #Manages the primary screen data
        ScreenManager:
            MDScreen:
                MDBoxLayout:
                    orientation: "vertical"
                    MDToolbar:
                        title: "Navigation Drawer Test"
                        elevation: 10
                        left_action_items: [['menu', lambda x: nav_drawer.set_state("open")]]
                    MDCard:
                        RelativeLayout:
                            MapView:
                                id: mapview
                                lat: root.latitude
                                lon: root.longitude
                                zoom: 5
                            
                                MapMarkerPopup:
                                    source: "marker.png"
                                    lat: 38.0
                                    lon: -115.0
                                MapMarkerPopup:
                                    source: "marker.png"
                                    lat: 11
                                    lon: 11
                                    Button:
                                        on_release:
                                            print("hey")

                            MDToolbar:
                                Button:
                                    text: "Longitude: {}".format(mapview.lon)
                                    on_release: mapview.center_on(50.6394, 3.057)
                                Button:
                                    text: "Latitude: {}".format(mapview.lat)
                                    on_release: mapview.center_on(-33.867, 151.206)
                    MDCard:
                        ScrollView:
                            MDList:
                                id: ride_list
                                OneLineListItem:
                                    id: item1
                                    text: "Test Line Item #51"
                                    on_release:
                                        root.manager.transition.direction = "up"
                                        app.root.current = 'display'
                                OneLineListItem:
                                    id: item2
                                    text: "Test Line Item #52"
                                OneLineListItem:
                                    id: item3
                                    text: "Test Line Item #53"
                                OneLineListItem:
                                    id: item4
                                    text: "Test Line Item #54"

                                ThreeLineIconListItem:
                                    text: "Three-line item with avatar"
                                    secondary_text: "Secondary text here"
                                    tertiary_text: "fit more text than usual"

                                    IconLeftWidget:
                                        icon: "language-python"
                                ThreeLineIconListItem:
                                    text: "Three-line item with avatar"
                                    secondary_text: "Secondary text here"
                                    tertiary_text: "fit more text than usual"

                                    IconLeftWidget:
                                        icon: "language-python"
                                ThreeLineIconListItem:
                                    text: "Three-line item with avatar"
                                    secondary_text: "Secondary text here"
                                    tertiary_text: "fit more text than usual"

                                    IconLeftWidget:
                                        icon: "language-python"
                                ThreeLineIconListItem:
                                    text: "Three-line item with avatar"
                                    secondary_text: "Secondary text here"
                                    tertiary_text: "fit more text than usual"

                                    IconLeftWidget:
                                        icon: "language-python"
                                ThreeLineIconListItem:
                                    text: "Three-line item with avatar"
                                    secondary_text: "Secondary text here"
                                    tertiary_text: "fit more text than usual"

                                    IconLeftWidget:
                                        icon: "language-python"

                   
    #Manages the content of the drawer
        MDNavigationDrawer:
            id: nav_drawer
            orientation: "vertical"
            AnchorLayout:
                anchor_x: "left"
                size_hint_y: None
                height: avatar.height
                
                Image:
                    id: avatar
                    size_hint: None, None
                    size: "56dp", "56dp"
                    source: "data/logo/kivy-icon-256.png"

            ScrollView:
                orientation: "vertical"
                MDList:
                    id: nav_list
                    OneLineListItem:
                        id: menuitem1
                        text: "Test Line Item #1"
                        on_release: 
                            root.manager.transition.direction = "up"
                            app.root.current = 'display'
                    OneLineListItem:
                        id: menuitem2
                        text: "Test Line Item #2"
                    OneLineListItem:
                        id: menuitem3
                        text: "Test Line Item #3"
                    OneLineListItem:
                        id: menuitem4
                        text: "Test Line Item #4"
            

  
  
# GUI for pop up window
<P>:
    Label:
        text : "Please enter valid information"
        size_hint : 0.2, 0.1
        pos_hint : {"x" : 0.3, "top" : 0.8}




<displayWindow>:
    MDFloatLayout:
        orientation: "vertical"
        size: root.width, root.height

        Label:
            text : "EMAIL: "
            size_hint : 0.2, 0.1
            pos_hint : {"x":0.4, "top":0.9}
        TextInput:
            id : email
            multiline :False
            size_hint : 0.3, 0.1
            pos_hint : {"x" : 0.35, "top" : 0.8}

        Button:
            text : "GO BACK"
            size_hint : 0.3, 0.1
            pos_hint : {"x" : 0.35, "top" : 0.18}
            on_press :
                root.manager.transition.direction = "down"
                app.root.current = 'logdata'

